{% extends "base.html" %}
{% load demoscene_tags %}
{% load safe_markdown %}

{% block base_main %}
	<h2>{{ group.name }} {% nick_variants group.primary_nick %}</h2>
	
	{% with group.alternative_nicks as alternative_nicks %}
		{% if alternative_nicks %}
			<h3>Also known as:</h3>
			<ul>
				{% for nick in alternative_nicks %}
					<li>{{ nick.name }} {% nick_variants nick %}</li>
				{% endfor %}
			</ul>
		{% endif %}
	{% endwith %}
	
	<a href="{% url edit_group group.id %}">edit</a>

	{% if group.notes %}
		<div class="notes">
			{{ group.notes|safe_markdown }}
		</div>
	{% endif %}
	
	<h3>Members:</h3>
	<ul>
		{% for scener in group.members.all %}
			<li class="scener">
				<a href="{% url scener scener.id %}">{{ scener.name }}</a>
				{% if user.is_authenticated %}
					<a href="{% url group_remove_member group.id scener.id %}">
						<img src="/static/images/icons/delete.png" width="16" height="16" alt="Remove from group" title="Remove from group" />
					</a>
				{% endif %}
			</li>
		{% endfor %}
		{% if user.is_authenticated %}
			<li class="add">
				<a href="{% url group_add_member group.id %}">Add member</a>
			</li>
		{% endif %}
	</ul>

	<h3>Productions:</h3>
	<ul>
		{% for prod in group.productions %}
			<li><a href="{{ prod.get_absolute_url }}">{{ prod.title }}</a></li>
		{% endfor %}
	</ul>
	
	<h3>Member productions:</h3>
	<ul>
		{% for prod in group.member_productions %}
			<li><a href="{{ prod.get_absolute_url }}">{{ prod.title }}</a></li>
		{% endfor %}
	</ul>
{% endblock %}
